<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Blog on AJ Friend</title><link>https://ajfriend.com/blog/</link><description>Recent content in Blog on AJ Friend</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Wed, 17 Dec 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://ajfriend.com/blog/index.xml" rel="self" type="application/rss+xml"/><item><title>The Cagnoli Function: Computing Spherical Polygon Areas</title><link>https://ajfriend.com/cagnoli_math/</link><pubDate>Wed, 17 Dec 2025 00:00:00 +0000</pubDate><guid>https://ajfriend.com/cagnoli_math/</guid><description>&lt;script src="https://cdn.jsdelivr.net/npm/d3@7"&gt;&lt;/script&gt;
&lt;p&gt;The &lt;a href="https://github.com/uber/h3/"&gt;H3&lt;/a&gt; library provides a hexagonal
geospatial grid system, and being a geospatial library, one of the things
we want to be able to do is to compute the surface areas of polygons on
the sphere. This post will go through the math behind the spherical polygon area
calculation that we use, which I mostly learned about through the &lt;a href="https://github.com/d3/d3-geo/blob/main/src/area.js"&gt;D3 library&amp;rsquo;s area calculation code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This algorithm is robust enough to handle many tricky polygons, including ones
that may be larger than a hemisphere, contain the north or south pole, or cross
the antimeridian. Drag around the plot below to see an example:&lt;/p&gt;</description></item><item><title>Using uv Offline</title><link>https://ajfriend.com/uv_offline/</link><pubDate>Wed, 17 Dec 2025 00:00:00 +0000</pubDate><guid>https://ajfriend.com/uv_offline/</guid><description>&lt;p&gt;Using Python&amp;rsquo;s &lt;code&gt;uv&lt;/code&gt; package manager in offline environments.&lt;/p&gt;
&lt;h2 id="overview"&gt;Overview&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;uv&lt;/code&gt; is a fast Python package installer and resolver written in Rust. Working offline requires pre-downloading dependencies.&lt;/p&gt;
&lt;h2 id="setting-up-offline-cache"&gt;Setting Up Offline Cache&lt;/h2&gt;
&lt;p&gt;First, download packages while online:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;1&lt;/span&gt;&lt;span&gt;&lt;span style="color:#60a0b0;font-style:italic"&gt;# Download packages to cache&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;2&lt;/span&gt;&lt;span&gt;uv pip sync requirements.txt --cache-dir ./uv-cache
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="using-cached-packages"&gt;Using Cached Packages&lt;/h2&gt;
&lt;p&gt;When offline, point to your local cache:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;1&lt;/span&gt;&lt;span&gt;&lt;span style="color:#60a0b0;font-style:italic"&gt;# Install from cache without network access&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;2&lt;/span&gt;&lt;span&gt;uv pip install --cache-dir ./uv-cache --offline package-name
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="best-practices"&gt;Best Practices&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Maintain a local package index&lt;/li&gt;
&lt;li&gt;Pre-download all dependencies for your project&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;--offline&lt;/code&gt; flag to ensure no network requests&lt;/li&gt;
&lt;li&gt;Keep cache synchronized with requirements&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="example-workflow"&gt;Example Workflow&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;1&lt;/span&gt;&lt;span&gt;&lt;span style="color:#60a0b0;font-style:italic"&gt;# Online: prepare cache&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;2&lt;/span&gt;&lt;span&gt;uv pip sync requirements.txt --cache-dir ./uv-cache
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;3&lt;/span&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;4&lt;/span&gt;&lt;span&gt;&lt;span style="color:#60a0b0;font-style:italic"&gt;# Offline: install from cache&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"&gt;5&lt;/span&gt;&lt;span&gt;uv pip install --cache-dir ./uv-cache --offline -r requirements.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item></channel></rss>